<div id="page-wrapper" class="container-fluid">

  <div class="row">
	<div class="col-md-3">
	  <div class="photo">
	    <img ng-src="img/{{$ctrl.f.persons[0].photo}}" class="contact" style = "height:200px; width:200px; border-radius: 50%; margin-top:20px" />
	  </div>
	</div>
	<div class="col-md-8">
	
	  <div class="row" style="height:6em;">
		<div class="col-md-8" 
			 ng-mouseenter= "showFullname = true" 
			 ng-mouseleave= "showFullname = false">	
			<div ng-hide="showFullname">
				<h1>{{$ctrl.f.persons[0].fullname}}</h1>
			</div>
			<div ng-show="showFullname">
				<input type="text" name="input" ng-model="$ctrl.f.persons[0].fullname" 
				style="font-size:36px; font-weight:500; margin-top:.31em; margin-left:-2px">
			</div>
		</div>
		<div class="col-md-3"
			 ng-mouseenter= "showFullname_zh = true" 
			 ng-mouseleave= "showFullname_zh = false">
			<div ng-hide="showFullname_zh">
				<h1>{{$ctrl.f.persons[0].fullname_zh}}</h1> 
			</div>
			<div ng-show="showFullname_zh">
				<input type="text" name="input" ng-model="$ctrl.f.persons[0].fullname_zh" 
				style="font-size:36px; font-weight:500; margin-top:.31em; width:5em; margin-left:-2px">
			</div>
		</div>
		
	  </div>
	  
	  <div class="row">
		<div class="col-md-11" style="height:3.2em"
			 ng-mouseenter= "showBirthday = true" 
			 ng-mouseleave= "showBirthday = false">
			<div ng-hide="showBirthday">
				<p>{{$ctrl.f.persons[0].birthday | date:'MMM d yyyy'}}</p>
			</div>
			<div ng-show="showBirthday" >
				<input type="text" name="input" ng-model="$ctrl.f.persons[0].birthday"
				style="margin-left:-2px; margin-top:-2px;">
			</div>
		</div>
		
	  </div>
	  
	  <div class="row">
	    <div class="col-md-12">
		    <h3>Contact Info</h3>
			<table ng-table="locators" class="table">
				<tr ng-repeat="loc in $ctrl.f.locators | orderBy:'locator_type'" 
					ng-mouseenter="show = true" 
					ng-mouseleave="show = false"
					style="height:3.2em">
					<!-- locator type icons -->
					<td ng-if="loc.locator_type==1" ><span class="glyphicon glyphicon-earphone" aria-hidden="true"></span></td> 
					<td ng-if="loc.locator_type==2" ><span class="glyphicon glyphicon-envelope" aria-hidden="true"></span></td> 
					<td ng-if="loc.locator_type==3" ><span class="glyphicon glyphicon-map-marker" aria-hidden="true"></span></td> 
					<td ng-if="loc.locator_type==4" ><span class="glyphicon glyphicon-globe" aria-hidden="true"></span></td> 
					<td ng-if="loc.locator_type==5" ><span class="glyphicon glyphicon-heart-empty" aria-hidden="true"></span></td> 
					<!-- locator descriptions -->
					<td ng-hide="show">{{loc.description}}</td>
					<td ng-show="show">
						<select name="repeatSelect" 
								ng-model="loc.description"
								style="margin-top:-2px; margin-left:-2px">
							<option ng-repeat="option in $ctrl.locDescOptions" value="{{option.id}}">{{option.name}}</option>
						</select>
					</td>
					<!-- locator info -->
					<td ng-hide="show" ng-if="loc.locator_type==4" ><a ng-href="{{loc.info}}">{{loc.info}}</a></td>
					<td ng-hide="show" ng-if="loc.locator_type!=4" >{{loc.info}}</td>
					<td ng-show="show">
						<input id="loc-info-input" type="text" name="input" 
								ng-model="loc.info" 
								style="width:25em; margin-left:-2px; margin-top:-2px">
					</td>
				</tr>
				<tr>
					<td><a ng-href="#"><span class="glyphicon glyphicon-plus" aria-hidden="true"></span></a></td>
					<td>&nbsp;</td>
					<td><a ng-click="createNewLocator()">Add new contact method</a></td>
				</tr>
			</table>
			<h3>Groups</h3>
			<table ng-table="groups" class="table">
				<tr ng-repeat="group in $ctrl.contact.contact.groups | orderBy: 'name' ">
					<td id="grp-id" ng-show="false">{{group.id}}</td>
					<td id="grp-icon"><span class="glyphicon glyphicon-record" aria-hidden="true"></span></td> 
					<td id="grp-type">{{group.group_type}}</td> 
					<td id="grp-name">{{group.name}}</td>
				</tr>
				<tr>
					<td><a ng-href="#"><span class="glyphicon glyphicon-plus" aria-hidden="true"></span></a></td>
					<td><a ng-href="#">Add to group</a></td>
					<td>&nbsp;</td>
				</tr>
			</table>
			
			<pre>$ctrl.f = {{$ctrl.f | json}}</pre>
		</div>
	  </div>
	</div>
  </div>
</div>
