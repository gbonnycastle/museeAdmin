<div id="page-wrapper" class="container-fluid">

  <div class="row">
	<div class="col-md-3">
	  <div class="photo">
	    <img ng-src="img/{{$ctrl.f.persons[0].photo}}" class="contact" style = "height:200px; width:200px; border-radius: 50%; margin-top:20px" />
	  </div>
	</div>
	<div class="col-md-8">
	
	  <div class="row" style="display:flex;align-items:center;height:80px;">
		<div class="col-md-11">	
			<div ng-hide="$ctrl.edit.fullname">
				<h1><span id="contact-fullname" >{{$ctrl.f.persons[0].fullname}}</span>
				    <span id="contact-fullname_zh" >{{$ctrl.f.persons[0].fullname_zh}}</span></h1> 
			</div>
			<div ng-show="$ctrl.edit.fullname">
				<input type="text" name="input" ng-model="$ctrl.f.persons[0].fullname">
				<input type="text" name="input" ng-model="$ctrl.f.persons[0].fullname_zh">
			</div>
		</div>
		<div class="col-md-1">
			<input type="checkbox" ng-model="$ctrl.edit.fullname" aria-label="Toggle ngHide" >
		</div>
	  </div>
	  
	  <div class="row">
		<div class="col-md-11">
			<div ng-hide="$ctrl.edit.birthday">
				<p>{{$ctrl.f.persons[0].birthday | date:'MMM d yyyy'}}</p>
			</div>
			<div ng-show="$ctrl.edit.birthday" >
				<input type="text" name="input" ng-model="$ctrl.f.persons[0].birthday">
			</div>
		</div>
		<div class="col-md-1">
			<input type="checkbox" ng-model="$ctrl.edit.birthday" aria-label="Toggle ngHide"><br/>
		</div>
	  </div>
	  
	  <div class="row">
	    <div class="col-md-12">
		    <h3>Contact Info</h3>
			<table ng-table="locators" class="table">
				<tr ng-repeat="loc in $ctrl.f.locators | orderBy:'locator_type'">
					<!-- locator type icons -->
					<td ng-if="loc.locator_type==1"><span class="glyphicon glyphicon-earphone" aria-hidden="true"></span></td> 
					<td ng-if="loc.locator_type==2"><span class="glyphicon glyphicon-envelope" aria-hidden="true"></span></td> 
					<td ng-if="loc.locator_type==3"><span class="glyphicon glyphicon-map-marker" aria-hidden="true"></span></td> 
					<td ng-if="loc.locator_type==4"><span class="glyphicon glyphicon-globe" aria-hidden="true"></span></td> 
					<td ng-if="loc.locator_type==5"><span class="glyphicon glyphicon-heart-empty" aria-hidden="true"></span></td> 
					<!-- locator descriptions -->
					<td ng-hide="false">{{loc.description}}</td>
					<td ng-show="false">
						<select name="repeatSelect" ng-model="loc.description">
							<option ng-repeat="option in $ctrl.locDescOptions" value="{{option.id}}">{{option.name}}</option>
						</select>
					</td>
					<!-- locator info -->
					<td ng-if="loc.locator_type==4"><a ng-href="{{loc.info}}">{{loc.info}}</a></td>
					<td ng-if="loc.locator_type!=4">{{loc.info}}</td>
					<td ng-show="false">
						<input id="loc-info-input" type="text" name="input" ng-model="locator.info">
					</td>
					<!-- edit -->
					<td id="loc-edit" ng-show="false">
						<a ng-click="editLocator(loc.id)" >
							<span class="glyphicon glyphicon-edit" aria-hidden="true"></span>
						</a>
					</td>
					<!-- delete -->
					<td id="loc-delete" ng-show="false">
						<a ng-click="deleteLocator(loc.id)" >
							<span class="glyphicon glyphicon-remove" aria-hidden="true"></span>
						</a>
					</td>
				</tr>
				<tr>
					<td><a ng-href="#"><span class="glyphicon glyphicon-plus" aria-hidden="true"></span></a></td>
					<td>&nbsp;</td>
					<td><a ng-click="createNewLocator()">Add new contact method</a></td>
					<td>&nbsp;</td>
					<td>&nbsp;</td>
				</tr>
			</table>
			<h3>Groups</h3>
			<table ng-table="groups" class="table">
				<tr ng-repeat="group in $ctrl.contact.contact.groups | orderBy: 'name' ">
					<td id="grp-id" ng-show="false">{{group.id}}</td>
					<td id="grp-icon"><span class="glyphicon glyphicon-record" aria-hidden="true"></span></td> 
					<td id="grp-type">{{group.group_type}}</td> 
					<td id="grp-name">{{group.name}}</td>
				</tr>
				<tr>
					<td><a ng-href="#"><span class="glyphicon glyphicon-plus" aria-hidden="true"></span></a></td>
					<td><a ng-href="#">Add to group</a></td>
					<td>&nbsp;</td>
				</tr>
			</table>
			
			<pre>$ctrl.f = {{$ctrl.f | json}}</pre>
		</div>
	  </div>
	</div>
  </div>
</div>
